{"version":3,"sources":["panorama/CameraPanorama.js"],"names":["define","Panorama","Media","THREE","CameraPanorama","constraints","geometry","SphereBufferGeometry","material","MeshBasicMaterial","visible","call","this","media","radius","addEventListener","start","bind","stop","onPanolensContainer","onPanolensScene","prototype","Object","assign","create","constructor","container","setContainer","scene","setScene"],"mappings":";;;;;;;AAAAA,QACI,aACA,iBACA,mBACD,SAAUC,EAAUC,EAAOC,GAC1B,aACA,SAASC,EAAeC,GACpB,MACMC,EAAW,IAAIH,EAAMI,qBADZ,IACyC,GAAI,IACtDC,EAAW,IAAIL,EAAMM,mBAAoBC,SAAS,IACxDT,EAASU,KAAKC,KAAMN,EAAUE,GAC9BI,KAAKC,MAAQ,IAAIX,EAAMG,GACvBO,KAAKE,OALU,IAMfF,KAAKG,iBAAiB,QAASH,KAAKI,MAAMC,KAAKL,OAC/CA,KAAKG,iBAAiB,QAASH,KAAKM,KAAKD,KAAKL,OAC9CA,KAAKG,iBAAiB,qBAAsBH,KAAKO,oBAAoBF,KAAKL,OAC1EA,KAAKG,iBAAiB,iBAAkBH,KAAKQ,gBAAgBH,KAAKL,OAiBtE,OAfAR,EAAeiB,UAAYC,OAAOC,OAAOD,OAAOE,OAAOvB,EAASoB,YAC5DI,YAAarB,EACbe,oBAAqB,UAAUO,UAACA,IAC5Bd,KAAKC,MAAMc,aAAaD,IAE5BN,gBAAiB,UAAUQ,MAACA,IACxBhB,KAAKC,MAAMgB,SAASD,IAExBZ,MAAO,WACH,OAAOJ,KAAKC,MAAMG,SAEtBE,KAAM,WACFN,KAAKC,MAAMK,UAGZd","file":"../../panorama/CameraPanorama.js","sourcesContent":["define([\n    './Panorama',\n    '../media/Media',\n    'skylark-threejs'\n], function (Panorama, Media, THREE) {\n    'use strict';\n    function CameraPanorama(constraints) {\n        const radius = 5000;\n        const geometry = new THREE.SphereBufferGeometry(radius, 60, 40);\n        const material = new THREE.MeshBasicMaterial({ visible: false });\n        Panorama.call(this, geometry, material);\n        this.media = new Media(constraints);\n        this.radius = radius;\n        this.addEventListener('enter', this.start.bind(this));\n        this.addEventListener('leave', this.stop.bind(this));\n        this.addEventListener('panolens-container', this.onPanolensContainer.bind(this));\n        this.addEventListener('panolens-scene', this.onPanolensScene.bind(this));\n    }\n    CameraPanorama.prototype = Object.assign(Object.create(Panorama.prototype), {\n        constructor: CameraPanorama,\n        onPanolensContainer: function ({container}) {\n            this.media.setContainer(container);\n        },\n        onPanolensScene: function ({scene}) {\n            this.media.setScene(scene);\n        },\n        start: function () {\n            return this.media.start();\n        },\n        stop: function () {\n            this.media.stop();\n        }\n    });\n    return CameraPanorama;\n});"]}