{"version":3,"sources":["panorama/ImageLittlePlanet.js"],"names":["define","LittlePlanet","THREE","ImageLittlePlanet","source","size","ratio","call","this","prototype","Object","assign","create","constructor","onLoad","texture","updateTexture","minFilter","magFilter","LinearFilter","material","uniforms","value","dispose","tDiffuse"],"mappings":";;;;;;;AAAAA,QACI,iBACA,mBACD,SAAUC,EAAcC,GACvB,aACA,SAASC,EAAkBC,EAAQC,EAAMC,GACrCL,EAAaM,KAAKC,KAAM,QAASJ,EAAQC,EAAMC,GAoBnD,OAlBAH,EAAkBM,UAAYC,OAAOC,OAAOD,OAAOE,OAAOX,EAAaQ,YACnEI,YAAaV,EACbW,OAAQ,SAAUC,GACdP,KAAKQ,cAAcD,GACnBd,EAAaQ,UAAUK,OAAOP,KAAKC,KAAMO,IAE7CC,cAAe,SAAUD,GACrBA,EAAQE,UAAYF,EAAQG,UAAYhB,EAAMiB,aAC9CX,KAAKY,SAASC,SAAmB,SAAEC,MAAQP,GAE/CQ,QAAS,WACL,MAAMC,EAAWhB,KAAKY,SAASC,SAAmB,SAC9CG,GAAYA,EAASF,OACrBE,EAASF,MAAMC,UAEnBtB,EAAaQ,UAAUc,QAAQhB,KAAKC,SAGrCL","file":"../../panorama/ImageLittlePlanet.js","sourcesContent":["define([\n    './LittlePlanet',\n    'skylark-threejs'\n], function (LittlePlanet, THREE) {\n    'use strict';\n    function ImageLittlePlanet(source, size, ratio) {\n        LittlePlanet.call(this, 'image', source, size, ratio);\n    }\n    ImageLittlePlanet.prototype = Object.assign(Object.create(LittlePlanet.prototype), {\n        constructor: ImageLittlePlanet,\n        onLoad: function (texture) {\n            this.updateTexture(texture);\n            LittlePlanet.prototype.onLoad.call(this, texture);\n        },\n        updateTexture: function (texture) {\n            texture.minFilter = texture.magFilter = THREE.LinearFilter;\n            this.material.uniforms['tDiffuse'].value = texture;\n        },\n        dispose: function () {\n            const tDiffuse = this.material.uniforms['tDiffuse'];\n            if (tDiffuse && tDiffuse.value) {\n                tDiffuse.value.dispose();\n            }\n            LittlePlanet.prototype.dispose.call(this);\n        }\n    });\n    return ImageLittlePlanet;\n});"]}